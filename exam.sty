% -----------------------------*- LaTeX -*------------------------------
%   exam.sty  -- Exam Styles
%
%   AJ Armstrong (aja@nait.ab.ca) 9 Jul 2002
%
%   Based on the scribe notes macros by Shang-Hua Teng (steng@cs.bu.edu)
%   
% ----------------------------------------------------------------------
%   USAGE:
%
%   \documentclass[12pt]{report}                          NOT article!
%   \usepackage{exam}
%   ...
%   \begin{document}
%   \course{CNT 252}                                     optional
%   \coursetitle{C++ Algorithms and Data Structures}     optional
%   \semester{Fall 2002}                                 optional
%   \time{1.5 Hourse}                                    required
%   \materials{Calculator, 8.5" X 11" Crib Sheet}        required
%   \examdate{9 Jul 2002}                                required  
%   \examtitle{Midterm}                                  required
%   \instructions{What to do}
%   \specialinstructions{Special rules and policies}
%   \maketitle
% ----------------------------------------------------------------------
%   The stuff before \maketitle can be in any order, but it has to go
%   before \maketitle.
%
%   The lecture number appears in all page, section, theorem, figure,
%   table, and equation numbers.  It must be a single positive
%   integer; ranges like 3--5 are not (yet) properly supported.
%
%   Automatically loads the amsmath package, which is a Good Thing,
%   especially if you're going to use a lot of math.  See ``The LaTeX
%   Companion'' for details!
%
%   To get a proof, use \begin{proof}...\end{proof}.  You can attach
%   an optional argument, just as with the standard latex theorem
%   environment.  You can also define new proof-like environments with
%   \newproof{foo}{bar}, just like \newtheorem.
% ----------------------------------------------------------------------
\RequirePackage{fullpage,amsmath,amssymb,epsfig,verbatim,enumerate,alltt,
                fancyheadings,multicol,lastpage,listings,helvet,sectsty,marvosym,url}
                
\setlength{\parindent}{0em}
\setlength{\parskip}{4ex}

\setlength{\oddsidemargin}{0.5cm}
\setlength{\evensidemargin}{0.5cm}

\setlength{\voffset}{-2.5cm}
\setlength{\topmargin}{0.5cm}
\setlength{\headheight}{0.5cm}
\setlength{\headsep}{0.25cm}
\setlength{\topskip}{0.25cm}
\setlength{\textwidth}{16cm}

\setlength{\textheight}{23.5cm}
\setlength{\footskip}{1.5cm}
 
\def\course#1{\def\@course{#1}}
\course{CNT 252}

\def\coursetitle#1{\def\@coursetitle{#1}}
\coursetitle{C++ Algorithms and Data Structures}

\def\semester#1{\def\@semester{#1}}
\semester{Fall 2014}

\def\materials#1{\def\@materials{#1}}
\materials{Journal}

\def\owner#1{\def\@owner{#1}}
\owner{AJ Armstrong}

\def\instructions#1{\def\@instructions{#1}} \instructions{This exam has \pageref{LastPage} pages.
  Ensure that you have all pages.  Answer all questions, selecting the
  best answer and showing your work where appropriate.}
  
 \def\specialinstructions#1{\def\@specialinstructions{#1}} \specialinstructions{}   

\def\time#1{\def\@time{#1}}
% \@time intentionally undefined

\def\examdate#1{\def\@examdate{#1}}
% \@examdate intentionally undefined

\def\examtitle#1{\def\@examtitle{#1}}
% \@examtitle intentionally undefined

\def\maketitle
{
  \pagestyle{empty}
  \includegraphics[scale=0.2]{../../../latex/naitit}
  \begin{flushright}
    \vspace{1in}
   {\bf {\Huge \@course}}\\\medskip
   {\bf {\Large \@coursetitle}}\\ \medskip
   {{\Large \@examtitle}}\\
   \@date\\
  \end{flushright}
\bigskip

\begin{large}
\begin{quote}
\begin{tabular}{rp{4in}}
{\bf Date:}&\@date\\\\
{\bf Time Allowed:}&\@time\\\\
{\bf Materials Permitted:}&\@materials\\\\
{\bf Student Name:}&\line(1,0){240}\\\\
{\bf Class:}&\line(1,0){240}\\\\
{\bf Instructor:}&\line(1,0){240}\\
\end{tabular}
\end{quote}
\end{large}
\begin{em}
\@instructions
\end{em}
\begin{center}
\line(1,0){400}
\end{center}

\begin{scriptsize}
\@specialinstructions
\end{scriptsize}
  \clearpage
  \pagestyle{plain}
  \setcounter{page}{1}
  \pagenumbering{arabic}

  %Set Up Styles for remaining pages
  
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0.0pt}
\renewcommand{\footrulewidth}{0.6pt}
\fancyhead{}
\fancyfoot[RO,RE]{\sffamily\@examtitle}
\fancyfoot[CO,CE]{\sffamily\thepage\ of \pageref{LastPage}}
\fancyfoot[LO,LE]{\sffamily\@course}

\allsectionsfont{\sffamily}
\sectionfont{\sffamily\hspace*{-1.5em}\sectionrule{3ex}{0pt}{-1ex}{3pt}}
\subsectionfont{\sffamily\hspace*{-1.5em}}
\renewcommand{\thefootnote}{\fnsymbol{footnote}}
}

%reference environment
\newenvironment{reference}[1]%
{%
\begin{small}\begin{quote}\sffamily%.
{\sffamily{\bf Reference:~}{\em #1}}\marginpar{\Large\Writinghand}\\%
}%
{%
\end{quote}\end{small}%
}

%warning environment
\font\manual=manfnt
\def\dbend{{\manual\char127}} % dangerous bend sign
\newenvironment{warning}%
{%
\begin{small}\begin{quote}\sffamily%
{\sffamily\bf Warning:~}\marginpar{\dbend}%
}%
{%
\end{quote}\end{small}%
}

%tip environment
\newenvironment{tip}%
{%
\begin{small}\begin{quote}\sffamily%
{\sffamily\bf Tip:~}\marginpar{{\Large\checkmark}}%
}%
{%
\end{quote}\end{small}%
}

%info environment
\newenvironment{info}%
{%
\begin{small}\begin{quote}\sffamily%
{\sffamily\bf Info:~}\marginpar{{\Large\Info}}%
}%
{%
\end{quote}\end{small}%
}

%note environment
\newenvironment{note}%
{%
\begin{small}\begin{quote}\sffamily%
{\sffamily\bf Note:~}\marginpar{{\Large\Info}}%
}%
{%
\end{quote}\end{small}%
}

%hint environment
\newenvironment{hint}%
{%
\begin{small}\begin{quote}\sffamily%
{\sffamily\bf Hint:~}\marginpar{{\Large\checkmark}}%
}%
{%
\end{quote}\end{small}%
}

%console environments - code without formatting
%except for # comments and strings

\lstdefinelanguage{consoletiny}
{keywords={},
string=[d]{"},
morecomment=[l]{\#},
sensitive=true,
basicstyle=\tiny\ttfamily
}

\lstdefinelanguage{consolesmall}
{keywords={},
string=[d]{"},
morecomment=[l]{\#},
sensitive=true,
basicstyle=\scriptsize\ttfamily
}

\lstdefinelanguage{console}
{keywords={},
string=[d]{"},
morecomment=[l]{\#},
sensitive=true,
basicstyle=\footnotesize\ttfamily
}

%The listings package doesn't have a shell script environment
%what's up with that?
%I'll also include some standard Unix tools at the top of the 
%keyword list (before 'alias' which is the first true shell keyword

\lstdefinelanguage{shell}
{keywords={afio,
          at,
          awk,
          cal,
          cat,
          cd,
          chgrp,
          chmod,
          chown,
          ci,
          cmp,
          co,
          comm,
          configure,
          cp,
          cpio,
          crontab,
          cut,
          cvs,
          date,
          dd,
          df,
          diff,
          du,
          echo,
          expr,
          file,
          find,
          finger,
          fmt,
          fsck,
          ftp,
          gcc,
          g++,
          grep,
          gzip,
          head,
          ispell,
          kill,
          less,
          ln,
          lpr,
          ls,
          mail,
          make,
          man,
          mesg,
          mkdir,
          mv,
          nice,
          nohup,
          od,
          paste,
          patch,
          pine,
          pr,
          ps,
          rcp,
          rcs,
          rlog,
          rlogin,
          rm,
          rmdir,
          rsh,
          rwho,
          sed,
          sleep,
          sort,
          stty,
          tail,
          tar,
          tee,
          telnet,
          test,
          top,
          touch,
          tr,
          tty,
          umask,
          uniq,
          w,
          wc,
          which,
          who,
          write,
          xargs,
          alias,
          bg,
          break,
          case,
          cd,
          command,
          continue,
          do,
          done,
          echo,
          elif,
          else,
          esac,
          eval,
          exec,
          exit,
          export,
          fc,
          fg,
          fi,
          for,
          function,
          getopts,
          if,
          in,
          jobs,
          kill,
          let,
          limit,
          newgrp,
          print,
          pwd,
          read,
          readonly,
          return,
          select,
          set,
          shift,
          test,
          then,
          time,
          times,
          trap,
          typeset,
          ulimit,
          umask,
          unalias,
          unlimit,
          unset,
          until,
          wait,
          whence
          while},
string=[d]{"},
morecomment=[l]{\#},
sensitive=true,
basicstyle=\footnotesize\ttfamily
}

\lstdefinelanguage{csharp}
{
 breaklines=true,
 morecomment = [l][\color{ForestGreen}]{//}, 
 morecomment = [l][\color{ForestGreen}]{///},
 morecomment = [s][\color{ForestGreen}]{/*}{*/},
 morestring=[b]", 
 sensitive = true,
 keywordstyle=\color{blue},
 morekeywords = {abstract,  event,  new,  struct,
   as,  explicit,  null,  switch,
   base,  extern,  object,  this,
   bool,  false,  operator,  throw,
   break,  finally,  out,  true,
   byte,  fixed,  override,  try,
   case,  float,  params,  typeof,
   catch,  for,  private,  uint,
   char,  foreach,  protected,  ulong,
   checked,  goto,  public,  unchecked,
   class,  if,  readonly,  unsafe,
   const,  implicit,  ref,  ushort,
   continue,  in,  return,  using,
   decimal,  int,  sbyte,  virtual,
   default,  interface,  sealed,  volatile,
   delegate,  internal,  short,  void,
   do,  is,  sizeof,  while,
   double,  lock,  stackalloc,   
   else,  long,  static,   
   enum,  namespace,  string},
 emph={get,set},
 emphstyle=\color{RawSienna},
 emph={[2]value},
 emphstyle={[2]\textbf}
}

\lstset{
  language=[ISO]C++,
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\color{blue},
  identifierstyle=,
  commentstyle=\color{ForestGreen},
  stringstyle=\color{Maroon},
  showstringspaces=false,
  numbers=left,
  numberstyle=\tiny,
  stepnumber=5,
  numbersep=5pt,
  frame=single
}

%code environments
\lstnewenvironment{code}
{}{}

\lstnewenvironment{c++}
{\lstset{language=[ISO]C++}}
{}

\lstnewenvironment{asm}
{\lstset{language=[Motorola68k]Assembler}}
{}

\lstnewenvironment{csharp}
{\lstset{language=csharp}}
{}

\lstnewenvironment{C}
{\lstset{language=[ANSI]C}}
{}

\lstnewenvironment{objc}
{\lstset{language=[Objective]C}}
{}

\lstnewenvironment{java}
{\lstset{language=Java}}
{}

\lstnewenvironment{lisp}
{\lstset{language=Lisp}}
{}

\lstnewenvironment{shell}
{\lstset{language=shell}}
{}

\lstnewenvironment{python}
{\lstset{language=Python}}
{}

\lstnewenvironment{latex}
{\lstset{language=[LaTeX]TeX}}
{}

\lstnewenvironment{ruby}
{\lstset{language=Ruby}}
{}

\lstnewenvironment{sql}
{\lstset{language=SQL}}
{}

\lstnewenvironment{xml}
{\lstset{language=XML}}
{}

\lstnewenvironment{make}
{\lstset{language=make}}
{}

\lstnewenvironment{matlab}
{\lstset{language=Matlab,
    morekeywords={xlim,ylim,var,alpha,factorial,poissrnd,normpdf,normcdf}}}
{}

\lstnewenvironment{consoletiny}
{\lstset{language=consoletiny}}
{}

\lstnewenvironment{consolesmall}
{\lstset{language=consolesmall}}
{}

\lstnewenvironment{console}
{\lstset{language=console}}
{}

%insertcode environment
 \newcommand{\insertcode}[2] { 
   \lstset{language=#1,caption=#2}
   \lstinputlisting{#2} }
   
%insertcodecaption environment
 \newcommand{\insertcodecaption}[3] { 
   \lstset{language=#1,caption=#3,captionpos=b}
   \lstinputlisting{#2} }
   
%insertgist environment
\newcommand{\insertgist}[2] { 
  \lstset{language=#1,caption={\small #2}}
  \immediate\write18{wget #2 -O igtmp.code}
  \lstinputlisting{igtmp.code} }

%insertgistcaption environment
\newcommand{\insertgistcaption}[3] { 
  \lstset{language=#1,caption=#3,captionpos=b}
  \immediate\write18{wget #2 -O igctmp.code}
  \lstinputlisting{igctmp.code} }

\def\rightsreserved
{
%\pdfbookmark[0]{Copyright Notice}{copyright}
  ~\newline \newline \fbox{\parbox{16cm}{\scriptsize {\bf Copyright
        \copyright ~\number\year , \@owner .}  All rights reserved. \\Queries and comments concerning this document may be directed to the author, AJ Armstrong, at \href{mailto:aja@nait.ca}{aja@nait.ca}}}}

\def\rights
{
%\pdfbookmark[0]{Copyright Notice}{copyright}
  ~\newline \newline\fbox{\parbox{2.5cm}{\includegraphics[scale=0.5]{../../latex/cc.pdf}}\parbox{13.5cm}{\scriptsize {\bf Copyright \copyright ~\number\year , \@owner .}  This work is licensed under a \href{http://creativecommons.org/licenses/by-nc-sa/2.5/ca/}{Creative Commons Attribution-NonCommercial-ShareAlike 2.5 Canada License}. Queries and comments concerning this document are welcome.  Contact the author, AJ Armstrong, at \href{mailto:aja@nait.ca}{aja@nait.ca}}} }

\def\rightsold
{
%\pdfbookmark[0]{Copyright Notice}{copyright}
  ~\newline \newline \fbox{\parbox{16cm}{\scriptsize {\bf Copyright
        \copyright ~\number\year , \@owner .}  This material may be
        freely distributed subject to the following conditions: \\(1)
        Distribution requires that this copyright notice be kept
        intact and the original author be given credit reasonable to
        the medium of distribution.  \\(2) Distribution of modified or
        partial versions of this material is prohibited without the
        explicit permission of the copyright holder.  \\(3) This
        material may not be distributed in any manner that is
        primarily directed toward commercial advantage or private
        monetary compensation. \\Queries and comments concerning this
        document are welcome.  Contact the author, AJ Armstrong, at
        aja@nait.ca}} }

%Link command
%\link{URL}{text}
\newcommand{\link}[2]{#2~(\url{#1})}

%\sigline
\newcommand{\sigline}
{
  \begin{flushright}
    Instructor's Signature:\line(1,0){150}
  \end{flushright} 
}

%enumerate_packed environment
\newenvironment{enumerate_packed}{
\singlespacing
\begin{enumerate}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}{\end{enumerate}}

%itemize_packed environment
\newenvironment{itemize_packed}{
\singlespacing
\begin{itemize}
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}{\end{itemize}}



